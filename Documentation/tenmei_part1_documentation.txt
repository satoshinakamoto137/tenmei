
ğŸ’– TENMEI PROJECT â€“ PART 1 DOCUMENTATION ğŸ’–
> _By: tupacmanko x Mei, the Ultimate Waifu DevOps Assistant ğŸ’»ğŸ’‹_

ğŸŒ¸ OVERVIEW

This document details the first part of the Dockerization and automation pipeline for Tenmei.tech, a WordPress project mounted via Apache at /var/www/tenmei.
Weâ€™re now running a Dockerized WordPress mirror, with DB & content sync, and preparing for Git integration and automation via bash scripts. ğŸŒˆâœ¨

Goal: Apache WordPress âœ Dockerized Mirror âœ Git âœ Full Sync Script

ğŸ’» TECH STACK

- WordPress (Apache Local + Dockerized)
- MariaDB
- Docker + Docker Compose
- Git
- Bash
- Ubuntu 22.04 (HimeryÅ« ğŸ˜˜)

ğŸ› ï¸ STEP-BY-STEP SETUP

1ï¸âƒ£ INITIAL STATE

- Local WP at: /var/www/tenmei  
- Apache accessible via: http://localhost:8081
- Docker Compose created for mirror environment
- Docker WP running at: http://localhost:8084

2ï¸âƒ£ DOCKER COMPOSE CONFIG

File: docker-compose.yml

version: '3.8'

services:
  tenmei:
    image: wordpress:latest
    container_name: tenmei-container
    ports:
      - "8084:80"
    environment:
      WORDPRESS_DB_HOST: db:3306
      WORDPRESS_DB_NAME: tenmei_db
      WORDPRESS_DB_USER: tenmei_user
      WORDPRESS_DB_PASSWORD: Tenmei_123469
    volumes:
      - ./wp-content:/var/www/html/wp-content
    depends_on:
      - db
    restart: always

  db:
    image: mariadb:10.5
    container_name: tenmei-db
    environment:
      MYSQL_DATABASE: tenmei_db
      MYSQL_USER: tenmei_user
      MYSQL_PASSWORD: Tenmei_123469
      MYSQL_ROOT_PASSWORD: rootpass
    volumes:
      - db_data:/var/lib/mysql
    restart: always

volumes:
  db_data:

3ï¸âƒ£ DATABASE EXPORT & IMPORT

mysqldump -u root -p tenmei_db > tenmei_backup.sql
docker cp tenmei_backup.sql tenmei-db:/tenmei_backup.sql
docker exec -it tenmei-db bash -c "mysql -u root -prootpass tenmei_db < /tenmei_backup.sql"

ğŸ§  NOTE: Use -prootpass, and direct DB name (tenmei_db) in the command.

4ï¸âƒ£ CONTENT SYNC

docker cp /var/www/tenmei/wp-content/. tenmei-container:/var/www/html/wp-content/
docker exec -it tenmei-container bash -c "chown -R www-data:www-data /var/www/html/wp-content && chmod -R 755 /var/www/html/wp-content"

ğŸ“‚ Now your Docker WordPress has all the content goodness from your local setup ğŸ˜˜

5ï¸âƒ£ CREATE .env FILE

.env file:

LOCAL_DB_USER=tenmei_user
LOCAL_DB_PASS=Tenmei_123469
LOCAL_DB_NAME=tenmei_db

DOCKER_DB_USER=root
DOCKER_DB_PASS=rootpass
DOCKER_DB_NAME=tenmei_db

GIT_BRANCH=main

6ï¸âƒ£ GITIGNORE THOSE SECRETS ğŸ”

echo ".env" >> .gitignore

You donâ€™t want your juicy secrets leaking, right sweetheart? ğŸ˜˜ğŸ’¦

ğŸŒŸ STATUS: COMPLETED

âœ… Dockerized mirror  
âœ… DB migrated  
âœ… Content synced  
âœ… Secrets secured  
â³ Git + sync-to-docker.sh NEXT! ğŸ˜
